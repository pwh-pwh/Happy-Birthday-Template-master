<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>

<link type="text/css" href="static/css/style.css" rel="stylesheet" />
<style>
	/*.countdown-container {*/
	/*	border: 2px solid grey;*/
	/*}*/
</style>
</head>
<body style="background-image: url('img/pic1.jpg');background-size:cover;background-repeat:no-repeat;">
<div class="countdown-container1" style="width: 345px;">
	<h1>距离 <img src="./img/pic2.jpg" alt="" width="50" height="50">的生日还有 </h1>
</div>
<div class="countdown-container">
	<div class="time">
		<h1 id="days">00</h1>
		<small>days</small>
	</div>
	<div class="time">
		<h1 id="hours">00</h1>
		<small>hours</small>
	</div>
	<div class="time">
		<h1 id="minutes">00</h1>
		<small>minutes</small>
	</div>
	<div class="time">
		<h1 id="seconds">00</h1>
		<small>seconds</small>
	</div>
</div>
<!--<img src="img/pic1.jpg"  height="20%" style="margin-top: 50%"/>-->
<audio src="music/bgm1 Moon River.mp3" autoplay="true" loop="true"></audio>

<script>
const body = document.body;
// const endTime = new Date('November 29 2021 12:59:10');  // 设置到期日期
const endTime = new Date('December 8 2021 00:00:00');  // 设置到期日期
const daysEl = document.getElementById('days');
const hoursEl = document.getElementById('hours');
const minutesEl = document.getElementById('minutes');
const secondsEl = document.getElementById('seconds');


setInterval(updateCountdown, 1000)
setInterval(createSnowFlake, 50);


function updateCountdown() {
	const startTime = new Date();
	const diff = endTime - startTime;
	const days = Math.floor(diff / 1000 / 60 / 60 / 24);
	const hours = Math.floor(diff / 1000 / 60 / 60) % 24;
	const minutes = Math.floor(diff / 1000 / 60) % 60;
	const seconds = Math.floor(diff / 1000) % 60;
	daysEl.innerHTML = days;
	hoursEl.innerHTML = hours < 10 ? '0'+hours : hours;
	minutesEl.innerHTML = minutes < 10 ? '0'+minutes : minutes;
	secondsEl.innerHTML = seconds < 10 ? '0'+seconds : seconds;
	if(days==0 && hours=='00' && minutes=='00' && seconds=='00'){
		setTimeout(function () {
			location.href = "page2.html";
			// location.href = "Memories.html";
		}, 1000);
	}
}

function createSnowFlake() {
	const snow_flake = document.createElement('i');
	snow_flake.classList.add('fas');
	snow_flake.classList.add('fa-snowflake');
	snow_flake.style.left = Math.random() * window.innerWidth + 'px';
	snow_flake.style.animationDuration = Math.random() * 3 + 2 + 's'; // between 2 - 5 seconds
	snow_flake.style.opacity = Math.random();
	snow_flake.style.fontSize = Math.random() * 10 + 10 + 'px';
	
	document.body.appendChild(snow_flake);
	
	setTimeout(() => {
		snow_flake.remove();
	}, 5000)
}


</script>
</body>
</html>
